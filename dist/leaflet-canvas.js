!function(t){var n={};function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a(a.s=0)}([function(t,n){L.CanvasLayer=(L.Layer?L.Layer:L.Class).extend({options:{},initialize:function(t){this._map=null,this._canvas=null,this._frame=null,L.setOptions(this,t)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t;var n=this._map.getSize();this._canvas=L.DomUtil.create("canvas","leaflet-layer"),this._canvas.width=n.x,this._canvas.height=n.y;var a=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(a?"animated":"hide")),this._map._panes.overlayPane.appendChild(this._canvas),this._map.options.zoomAnimation&&L.Browser.any3d&&this._map.on("zoomanim",this._animateZoom,this),this.fire("mounted",{map:this._map,canvas:this._canvas}),this.draw()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off(this.getEvents(),this),this._map.options.zoomAnimation&&this._map.off("zoomanim",this._animateZoom,this),this.fire("unmounted"),this._canvas=null},draw:function(){return this._frame||(this._frame=L.Util.requestAnimFrame(this.drawLayer,this)),this},drawLayer:function(){var t=this._map.getSize(),n=this._map.getBounds(),a=this._map.getZoom(),e=this.LatLonToMercator(this._map.getCenter()),i=this.LatLonToMercator(this._map.containerPointToLatLng(this._map.getSize())),o={layer:this,canvas:this._canvas,bounds:n,size:t,zoom:a,center:e,corner:i};this.resetSize(),this.fire("drawing",o),this._frame=null},resetSize:function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height);var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var n=this._map.getSize();this._canvas.width!==n.x&&(this._canvas.width=n.x),this._canvas.height!==n.y&&(this._canvas.height=n.y)},getEvents:function(){var t=this,n={click:a("click"),move:a("move"),moveend:a("moveend"),viewreset:a("viewreset"),resize:a("resize"),zoom:a("zoom"),mousemove:a("mousemove")};return this._map.options.zoomAnimation&&L.Browser.any3d&&(this.zoomanim=t._animateZoom),n;function a(n){return function(a){"moveend"==n&&t.draw(),"click"!=n&&"mousemove"!=n||(a.getBufferedBounds=e),a.canvas=t._canvas,t.fire(n,a)}}function e(n){var a={x:this.containerPoint.x-n,y:this.containerPoint.y-n},e={x:this.containerPoint.x+n,y:this.containerPoint.y+n},i=t._map.containerPointToLatLng(L.point(a)),o=t._map.containerPointToLatLng(L.point(e));return L.latLngBounds(i,o)}},LatLonToMercator:function(t){return{x:6378137*t.lng*Math.PI/180,y:6378137*Math.log(Math.tan((90+t.lat)*Math.PI/360))}},_setTransform:function(t,n,a){var e,i=n||new L.Point(0,0);e=L.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)"+(a?" scale("+a+")":""),t.style[L.DomUtil.TRANSFORM]=e},_animateZoom:function(t){var n,a=this._map.getZoomScale(t.zoom);n=L.Layer?this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),t.zoom,t.center).min:this._map._getCenterOffset(t.center)._multiplyBy(-a).subtract(this._map._getMapPanePos()),L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,a):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+a+")"}})}]);