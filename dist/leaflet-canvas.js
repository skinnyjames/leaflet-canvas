!function(t){var n={};function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n){L.CanvasLayer=(L.Layer?L.Layer:L.Class).extend({options:{},initialize:function(t){this._map=null,this._canvas=null,this._frame=null,L.setOptions(this,t)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t;var n=this._map.getSize();this._canvas=L.DomUtil.create("canvas","leaflet-layer"),this._canvas.width=n.x,this._canvas.height=n.y;var e=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(e?"animated":"hide")),this._map._panes.overlayPane.appendChild(this._canvas),this.fire("mounted",{map:this._map,canvas:this._canvas}),this.draw()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off(this.getEvents(),this),this.fire("unmount"),this._canvas=null},draw:function(){return this._frame||(console.log("requesting animation frame"),this._frame=L.Util.requestAnimFrame(this.drawLayer,this)),this},drawLayer:function(){var t=this._map.getSize(),n=this._map.getBounds(),e=this._map.getZoom(),a=this.LatLonToMercator(this._map.getCenter()),i=this.LatLonToMercator(this._map.containerPointToLatLng(this._map.getSize())),o={layer:this,canvas:this._canvas,bounds:n,size:t,zoom:e,center:a,corner:i};this.fire("drawing",o),this._frame=null},getEvents:function(){var t=this,n={click:e("click"),move:e("move"),moveend:e("moveend"),viewreset:e("viewreset"),resize:e("resize"),zoom:e("zoom"),mousemove:e("mousemove")};return this._map.options.zoomAnimation&&L.Browser.any3d&&(n.zoomanim=this._animateZoom),n;function e(n){return function(e){if("moveend"==n){if(t._canvas){var i=t._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(t._canvas,i)}t.draw()}"click"!=n&&"mousemove"!=n||(e.getBufferedBounds=a),e.canvas=t._canvas,t.fire(n,e)}}function a(n){var e={x:this.containerPoint.x-n,y:this.containerPoint.y-n},a={x:this.containerPoint.x+n,y:this.containerPoint.y+n},i=t._map.containerPointToLatLng(L.point(e)),o=t._map.containerPointToLatLng(L.point(a));return L.latLngBounds(i,o)}},LatLonToMercator:function(t){return{x:6378137*t.lng*Math.PI/180,y:6378137*Math.log(Math.tan((90+t.lat)*Math.PI/360))}},_setTransform:function(t,n,e){var a,i=n||new L.Point(0,0);a=L.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)"+(e?" scale("+e+")":""),t.style[L.DomUtil.TRANSFORM]=a},_animateZoom:function(t){var n,e=this._map.getZoomScale(t.zoom);n=L.Layer?this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),t.zoom,t.center).min:this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos()),L.DomUtil.setTransform(this._canvas,n,e)}})}]);