!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){L.CanvasLayer=(L.Layer?L.Layer:L.Class).extend({options:{},initialize:function(t){this._map=null,this._canvas=null,this._frame=null,L.setOptions(this,t)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t;var e=this._map.getSize();this._canvas=L.DomUtil.create("canvas","leaflet-layer"),this._canvas.width=e.x,this._canvas.height=e.y;var n=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this._canvas.style[n]="50% 50%";var a=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(a?"animated":"hide")),this._map._panes.overlayPane.appendChild(this._canvas),this.fire("mounted",{map:this._map,canvas:this._canvas}),this.resetSize(),this.draw()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off(this.getEvents(),this),this.fire("unmounted"),this._canvas=null},draw:function(){return this._frame||(this._frame=L.Util.requestAnimFrame(this.drawLayer,this)),this},drawLayer:function(){var t=this._map.getSize(),e=this._map.getBounds(),n=this._map.getZoom(),a=this.LatLonToMercator(this._map.getCenter()),i=this.LatLonToMercator(this._map.containerPointToLatLng(this._map.getSize())),s={layer:this,canvas:this._canvas,bounds:e,size:t,zoom:n,center:a,corner:i};this.resetSize(),this.fire("drawing",s),this._frame=null},resetSize:function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height);var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._canvas.width!==e.x&&(this._canvas.width=e.x),this._canvas.height!==e.y&&(this._canvas.height=e.y)},getEvents:function(){var t=this,e={click:n("click"),move:n("move"),moveend:n("moveend"),viewreset:n("viewreset"),resize:n("resize"),zoom:n("zoom"),mousemove:n("mousemove")};return this._map.options.zoomAnimation&&L.Browser.any3d&&(this.zoomanim=t._animateZoom),e;function n(e){return function(n){"moveend"==e&&t.draw(),"click"!=e&&"mousemove"!=e||(n.getBufferedBounds=a),n.canvas=t._canvas,t.fire(e,n)}}function a(e){var n={x:this.containerPoint.x-e,y:this.containerPoint.y-e},a={x:this.containerPoint.x+e,y:this.containerPoint.y+e},i=t._map.containerPointToLatLng(L.point(n)),s=t._map.containerPointToLatLng(L.point(a));return L.latLngBounds(i,s)}},LatLonToMercator:function(t){return{x:6378137*t.lng*Math.PI/180,y:6378137*Math.log(Math.tan((90+t.lat)*Math.PI/360))}},_setTransform:function(t,e,n){var a,i=e||new L.Point(0,0);a=L.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)"+(n?" scale("+n+")":""),t.style[L.DomUtil.TRANSFORM]=a},_animateZoom:function(t){var e,n=this._map.getZoomScale(t.zoom);e=L.Layer?this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),t.zoom,t.center).min:this._map._getCenterOffset(t.center)._multiplyBy(-n).subtract(this._map._getMapPanePos()),L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,e,n):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(e)+" scale("+n+")"}})}]);